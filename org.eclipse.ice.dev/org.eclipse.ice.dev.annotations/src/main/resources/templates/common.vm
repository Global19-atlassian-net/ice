## Macros and values useful across all templates and other readability helpers.
##
## Whitespace helpers
## ------------------
##! Prepend a directive with this value if you don't want the directive to
##! Gobble whitespace
#set($blank = "")
##! Literal newline
#set($newline = "
")
##! Literal tab
#set($tab = "	")
##! Gobbles whitespace
#macro(noop)#end
##! Use as a block macro to set the tab index of all lines in body.
#macro(settab $num)
#set($shift = "#foreach($i in [1..$num])$tab#end")
$shift$bodyContent.toString().replace("$tab", "").replace("$newline", "$newline$shift")
#end
##! Use as a block macro to remove the first newline in the body.
##! Useful when having foreach and output on the same line is unreadable but
##! output is intended to be all on one line.
#macro(nonewline)$bodyContent.toString().replaceFirst("\n", "")#end
##
## Field helpers
#macro(fieldtype)#evaluate(${field.Type})#end
#macro(annotations $annotations)#foreach($annotation in $annotations)$annotation #end#end
#macro(modifiers $modifiers)#foreach($modifier in $modifiers)$modifier #end#end
#macro(fielddecl)
	$blank#annotations(${field.Annotations})#modifiers(${field.Modifiers})#fieldtype() ${field.Name}#if(${field.DefaultValue}) = #evaluate(${field.DefaultValue})#end;
#end
#macro(nonnull $before $after)#if(!${field.Nullable} && !${field.Primitive})$!before@NonNull$!after#end#end
#macro(fielddoc)
	#if(${field.DocString})
	/**
	 * $field.DocString.trim().replace("$newline", "$newline$tab *")
	 */
	#end
#end